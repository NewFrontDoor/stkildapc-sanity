"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = Form;

var _styledBase = _interopRequireDefault(require("@emotion/styled-base"));

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _formGrid = _interopRequireDefault(require("./form-grid"));

var _core = require("@emotion/core");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }

var RadioGroup = (
/*#__PURE__*/
0, _styledBase.default)('fieldset', {
  target: "e1pjybt50",
  label: "RadioGroup"
})(process.env.NODE_ENV === "production" ? {
  name: "u8yxkl",
  styles: "input{width:initial;}label{display:inline;margin-left:10px;padding-bottom:0px;}"
} : {
  name: "u8yxkl",
  styles: "input{width:initial;}label{display:inline;margin-left:10px;padding-bottom:0px;}",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9mb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtxQyIsImZpbGUiOiIuLi9zcmMvZm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IEZvcm1HcmlkIGZyb20gJy4vZm9ybS1ncmlkJztcblxuY29uc3QgUmFkaW9Hcm91cCA9IHN0eWxlZCgnZmllbGRzZXQnKWBcbiAgaW5wdXQge1xuICAgIHdpZHRoOiBpbml0aWFsO1xuICB9XG4gIGxhYmVsIHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgfVxuYDtcblxuZnVuY3Rpb24gZ2V0Rm9ybUZpZWxkKGZpZWxkKSB7XG4gIHN3aXRjaCAoZmllbGQuaW5wdXQpIHtcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZ1bGx3aWR0aFwiPlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtmaWVsZC5pZH0+e2ZpZWxkLmxhYmVsfTwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPXtmaWVsZC5pZH0gbmFtZT17ZmllbGQubGFiZWx9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQuaWR9PntmaWVsZC5sYWJlbH08L2xhYmVsPlxuICAgICAgICAgIDxzZWxlY3QgaWQ9e2ZpZWxkLmlkfSBuYW1lPXtmaWVsZC5sYWJlbH0+XG4gICAgICAgICAgICB7ZmllbGQudmFsdWVzLm1hcCh2YWx1ZSA9PiAoXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e3ZhbHVlfT57dmFsdWV9PC9vcHRpb24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSYWRpb0dyb3VwPlxuICAgICAgICAgIDxsZWdlbmQ+e2ZpZWxkLmxhYmVsfTwvbGVnZW5kPlxuICAgICAgICAgIHtmaWVsZC52YWx1ZXMubWFwKHZhbHVlID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5pZH0+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD17dmFsdWV9IG5hbWU9e2ZpZWxkLmlkfSB2YWx1ZT17dmFsdWV9IC8+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXt2YWx1ZX0+e3ZhbHVlfTwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9SYWRpb0dyb3VwPlxuICAgICAgKTtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD17ZmllbGQuaWR9IG5hbWU9e2ZpZWxkLmxhYmVsfSAvPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJpbmxpbmVcIiBodG1sRm9yPXtmaWVsZC5pZH0+XG4gICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIGNhc2UgJ3N1Ym1pdCc6XG4gICAgY2FzZSAncmVzZXQnOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2xhc3NOYW1lPXtmaWVsZC5mdWxsd2lkdGggPyAnZnVsbHdpZHRoJyA6ICcnfVxuICAgICAgICAgIHR5cGU9e2ZpZWxkLmlucHV0fVxuICAgICAgICAgIGlkPXtmaWVsZC5pZH1cbiAgICAgICAgICB2YWx1ZT17ZmllbGQudmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtmaWVsZC5pZH0gcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfT5cbiAgICAgICAgICAgIHtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIHtmaWVsZC5yZXF1aXJlZCA/IDxzdHJvbmc+Kjwvc3Ryb25nPiA6ICcnfVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IHR5cGU9e2ZpZWxkLmlucHV0fSBpZD17ZmllbGQuaWR9IG5hbWU9e2ZpZWxkLmxhYmVsfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9ybSh7dGl0bGUsIGlkLCBkZXNjcmlwdGlvbiwgZmllbGRzfSkge1xuICByZXR1cm4gKFxuICAgIDxmb3JtIGlkPXtpZH0+XG4gICAgICA8ZmllbGRzZXQ+XG4gICAgICAgIDxoMj57dGl0bGV9PC9oMj5cbiAgICAgICAgPHA+e2Rlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgPEZvcm1HcmlkPlxuICAgICAgICAgIHtmaWVsZHMubWFwKGZpZWxkID0+IHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGb3JtRmllbGQoZmllbGQpO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L0Zvcm1HcmlkPlxuICAgICAgPC9maWVsZHNldD5cbiAgICA8L2Zvcm0+XG4gICk7XG59XG5cbkZvcm0ucHJvcFR5cGVzID0ge1xuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBkZXNjcmlwdGlvbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBmaWVsZHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkXG59O1xuIl19 */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
});

function getFormField(field) {
  switch (field.input) {
    case 'textarea':
      return (0, _core.jsx)("div", {
        className: "fullwidth"
      }, (0, _core.jsx)("label", {
        htmlFor: field.id
      }, field.label), (0, _core.jsx)("textarea", {
        id: field.id,
        name: field.label
      }));

    case 'select':
      return (0, _core.jsx)("div", null, (0, _core.jsx)("label", {
        htmlFor: field.id
      }, field.label), (0, _core.jsx)("select", {
        id: field.id,
        name: field.label
      }, field.values.map(value => (0, _core.jsx)("option", {
        value: value
      }, value))));

    case 'radio':
      return (0, _core.jsx)(RadioGroup, null, (0, _core.jsx)("legend", null, field.label), field.values.map(value => (0, _core.jsx)("div", {
        key: field.id
      }, (0, _core.jsx)("input", {
        type: "radio",
        id: value,
        name: field.id,
        value: value
      }), (0, _core.jsx)("label", {
        htmlFor: value
      }, value))));

    case 'checkbox':
      return (0, _core.jsx)("div", null, (0, _core.jsx)("input", {
        type: "checkbox",
        id: field.id,
        name: field.label
      }), (0, _core.jsx)("label", {
        className: "inline",
        htmlFor: field.id
      }, field.label));

    case 'submit':
    case 'reset':
      return (0, _core.jsx)("input", {
        className: field.fullwidth ? 'fullwidth' : '',
        type: field.input,
        id: field.id,
        value: field.value
      });

    default:
      return (0, _core.jsx)("div", null, (0, _core.jsx)("label", {
        htmlFor: field.id,
        required: field.required
      }, field.label, field.required ? (0, _core.jsx)("strong", null, "*") : ''), (0, _core.jsx)("input", {
        type: field.input,
        id: field.id,
        name: field.label
      }));
  }
}

function Form(_ref) {
  var {
    title,
    id,
    description,
    fields
  } = _ref;
  return (0, _core.jsx)("form", {
    id: id
  }, (0, _core.jsx)("fieldset", null, (0, _core.jsx)("h2", null, title), (0, _core.jsx)("p", null, description), (0, _core.jsx)(_formGrid.default, null, fields.map(field => {
    return getFormField(field);
  }))));
}

Form.propTypes = {
  title: _propTypes.default.string.isRequired,
  id: _propTypes.default.string.isRequired,
  description: _propTypes.default.string.isRequired,
  fields: _propTypes.default.array.isRequired
};